<style type="text/css" media="screen">
    label {
        color:#4CA2D3;
    }
</style>
<div id="container">
  <div class="admin-cont w1000 mar mar-t30 clearfix">
      <div class="admin-left fl">
        <div class="admin-nav">   
        <dl class="on">
          <dt><a href="#"><i></i>我的账号</a></dt>
          <dd>
              <a href="{:url('UserInfo/getUserInfo')}">基本信息</a>
              <a href="{:url('UserInfo/editPassword')}">安全中心</a>
              <a href="{:url('UserInfo/userPhotoUpload')}">用户头像</a>
          </dd>
        </dl>
        <dl>
          <dt><a href="{:url('CommiditiesInfo/getDealInfoByUserId')}"><i></i>我的订单</a></dt>
          <dd></dd>
        </dl>
        <dl>
          <dt><a href="{:url('CommentInfo/getMyComment')}"><i></i>我的评价</a></dt>
          <dd></dd>
        </dl>
        <dl>
          <dt><a href="{:url('CollectionInfo/getMyCollection')}"><i></i>我的收藏</a></dt>
          <dd></dd>
        </dl>
        <dl>
          <dt><a href="{:url('AddressInfo/getAddress')}"><i></i>我的地址</a></dt>
          <dd></dd>
        </dl>
        </div>
      </div>
      <div class="admin-right fl">
          <h1>我的密码修改</h1>
          <form class="form-horizontal mar-t30" method="post" action="{:url('UserInfo/editPassword')}">
            <div class="form-group">
              <label for="inputOldPassword" class="col-sm-2 control-label">旧密码</label>
              <div class="col-sm-6">
                <input type="password" class="form-control" id="inputOldPassword" placeholder="请输入您的旧密码" name="oldPassword" style="float:left">
              </div>
            </div>
            <div class="form-group">
              <label for="inputNewPassword" class="col-sm-2 control-label">新密码</label>
              <div class="col-sm-6">
                <input type="password" class="form-control" id="inputNewPassword" placeholder="请输入您的新密码" name="newPassword">
              </div>
            </div>
            <div class="form-group">
              <label for="inputVerifyPassword" class="col-sm-2 control-label">确认密码</label>
              <div class="col-sm-6">
                <input type="password" class="form-control" id="inputVerifyPassword" placeholder="请确认您的新密码" name="verifyPassword">
              </div>
            </div>
            <div class="form-group mar-t30">
              <label for="inputEmail3" class="col-sm-2 control-label"></label>
              <div class="col-sm-5">
                <button type="button" class="btn btn-success btn-lg" id="button" style="background:#4CA2D3;border:1px solid #4CA2D3;color:white;margin-left:20%;" onclick="editPassword();">修改</button>
              </div>
            </div>
          </form>
      </div>
      <p class="clear"></p>
    </div>
</div>
<script type="text/javascript">
    function editPassword() {
      var password       = $('#inputOldPassword').val();
      var newPassword    = $('#inputNewPassword').val();
      var verifyPassword = $('#inputVerifyPassword').val();
      $.ajax({
        type : 'POST',
        url : "{:url('UserInfo/editPassword')}",
        data : {"password" : password,
                "newPassword" : newPassword,
                'verifyPassword' : verifyPassword,
                },
        dataType : 'json',
        success : function(data) {
            if (data.code) {
                alert(data.msg);
                setTimeout(function(){
                    location.href = data.url;
                }, 100);
            } else {
                alert(data.msg);
            }
        },
        error : function(request) {
            alert('页面错误！');
        }
      });
    }
</script>